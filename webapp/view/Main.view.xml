<mvc:View 
    controllerName="crud2.controller.Main"
    xmlns:mvc="sap.ui.core.mvc" 
    displayBlock="true"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:c="sap.suite.ui.commons"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:layout="sap.ui.layout"
    xmlns:t="sap.ui.table" class="sapUiSizeCompact">
    <App id="app">
        <f:DynamicPage headerExpanded="{/headerExpanded}" showFooter="true">

            <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <Title id="title" text="{i18n>tit_app}"/>
                        
                </f:heading>
                <f:actions>
                 <ToolbarSpacer/>
                    <Image src="img/users.png" width="70px"/>
                </f:actions>
            </f:DynamicPageTitle>
            </f:title>

            <f:header>
                <f:DynamicPageHeader pinnable="true">
                    <f:content>
                        <Toolbar id="tb_buttons">
                            <Button xmlns="sap.m" id="bt_reload" text="{i18n.bt_update}" icon="sap-icon://refresh" press="onReload" type="Emphasized"/>
                                
                            <ToolbarSpacer/> <!-- USADO PARA DAR ESPAÃ‡O NA HORIZONTAL-->
                              <SearchField liveChange="filterGlobally" width="500px" placeholder="Search" /> 
                            <ToolbarSpacer/> 
                        </Toolbar>
                    </f:content>
                </f:DynamicPageHeader>
            </f:header>

            <f:content>
            <Panel accessibleRole="Form" backgroundDesign="Translucent" expandAnimation="true" expandable="false" headerText="{i18n>ppl_table}">
                <t:Table id="jobs_table" rowHeight="Auto" rows="{/Jobs}" rowActionCount="2" alternateRowColors="true" selectionBehavior="Row" visibleRowCountMode="Auto">
                   <t:columns>
                    <t:Column id="ID" width="10%" autoResizable="true" defaultFilterOperator="Contains" filterProperty="ID" sortProperty="ID" hAlign="Center" visible="true">
                        <Label text="{i18n>column_id}"/>
                        <t:template>
                            <Text text="{ID}"/>
                        </t:template>
                    </t:Column>

                    <t:Column id="User" width="" autoResizable="true" defaultFilterOperator="Contains" filterProperty="User" sortProperty="User" hAlign="Center">
                        <Label text="{i18n>column_user}"/>
                        <t:template>
                            <Text text="{User}"/>
                        </t:template>
                    </t:Column>

                    <t:Column id="Access" autoResizable="true" defaultFilterOperator="Contains" filterProperty="Access" sortProperty="Access" hAlign="Center" visible="true">
                            <Label text="{i18n>column_access}"/>
                            <t:template>
                                <Text text="{Access}"/>
                            </t:template>
                        </t:Column>
                   </t:columns>
                   <t:rowActionTemplate>
                    <t:RowAction visible="true" >
                        <t:items>
                            <t:RowActionItem text="Edit" type="Custom" icon="sap-icon://edit" press="onEdit" class="sapUiSmallMarginEnd" />
                            <t:RowActionItem text="Delete" type="Delete" icon="sap-icon://delete" press="onDelete"/>
                        </t:items>
                    </t:RowAction>
                   </t:rowActionTemplate>
                </t:Table>
            </Panel>
            </f:content>

            <f:footer>
                <OverflowToolbar visible="{/isRoleEdit}">
                  <ToolbarSpacer/>
                  <Button xmlns="sap.m" text="{i18n>bt_new}" icon="sap-icon://add-document" press="onpressNew" type="Emphasized" class="sapUiSmallMargin" />
                      
                </OverflowToolbar>
            </f:footer>
            
        </f:DynamicPage>
    </App>
</mvc:View>
 